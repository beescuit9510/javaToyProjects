package member.controller;

import java.util.ArrayList;

import member.dao.MemberDao;
import member.view.MemberView;
import member.vo.Member;

public class MemberController {

	private MemberView view;
	private MemberDao dao;

	public MemberController() {
		super();
		view = new MemberView();
		dao = new MemberDao();
	}

	public void main() {
		while (true) {
			int sel = view.showMain();
			switch (sel) {
			case 1:
				selectAllMember();
				break;
			case 2:
				selectOneMember();
				break;
			case 3:
				selectOneMember();
				break;
			case 4:
				break;
			case 5:
				break;
			case 6:
				break;
			case 0:
				return;
			default:
				break;

			}
		}
	}

	private void selectAllMember() {
		ArrayList<Member> list = dao.selectAllMember();

		if (list.isEmpty()) {
			view.emptyMember();
		} else {
			view.selectAllMember(list);
		}

	}

	private void selectOneMember() {
		boolean sel = view.searchById();
		String memberId = null;
		Member m = null;

		if (sel == false) {
			memberId = view.getId("조회");
			m = dao.selectOneMember(memberId, true);
		} else {
			memberId = view.getName("조회");
			m = dao.selectOneMember(memberId, false);
		}

		if (m == null) {
			view.emptyMember();
			return;
		}
		view.selectOneMember(m);

	}

	private void insertOneMember() {

	}

}
